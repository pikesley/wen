<script>
<% current = request.path.gsub('/', '') %>
current = '<%= current %>'
<% np = next_and_previous current %>

body = document.getElementById('body')

Hammer(body).on('swipeleft', function() {
  <% if np[:next] %>
  document.getElementById('<%= "#{np[:next]}" %>').click()
  <% else %>
  swell()
  <% end %>
})
Hammer(body).on('swiperight', function() {
  <% if np[:previous] %>
  document.getElementById('<%= "#{np[:previous]}" %>').click()
  <% else %>
  swell()
  <% end %>
})

function swell() {
  size = parseInt($('#' + current).css('font-size').replace('px', ''))

  $('#' + current).animate({ fontSize: (size * 1.5) + 'px' }, 1000, 'easeOutElastic')
  $('#' + current).animate({ fontSize: size}, 1000)
}
</script>
